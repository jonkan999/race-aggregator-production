{% extends "forum/forum_layout.html" %} {% block content %}
<div class="forum-container forum-section">
  <div class="category-header">
    <h2>{{ category.name }}</h2>
    <p class="category-description">{{ category.description }}</p>
  </div>

  <!-- New Thread Form -->
  <div class="thread-input-container" id="thread-input-container">
    <input
      type="text"
      id="thread-title-input"
      placeholder="{{ forum.new_thread_title_placeholder }}"
      {%
      if
      not
      user
      %}disabled{%
      endif
      %}
    />
    <textarea
      id="thread-input"
      placeholder="{{ forum.new_thread_content_placeholder }}"
      rows="3"
      {%
      if
      not
      user
      %}disabled{%
      endif
      %}
    ></textarea>

    <button
      id="thread-submit"
      class="primary-button"
      {%
      if
      not
      user
      %}style="display: none;"
      {%
      endif
      %}
    >
      {{ forum.create_thread_button }}
    </button>

    <div
      id="login-prompt"
      class="login-prompt"
      {%
      if
      user
      %}style="display: none;"
      {%
      endif
      %}
    >
      {{ forum.login_prompt }}
    </div>
  </div>

  <div class="thread-list">
    {% for thread in category.threads %}
    <div class="thread-item">
      <div class="thread-info">
        <span class="date">{{ thread.created_at }}</span>
        <a href="{{ thread.slug }}/" class="title">{{ thread.title }}</a>
      </div>
      <div class="post-count">
        {{ thread.post_count }} {{ forum.posts_label }}
      </div>
    </div>
    {% endfor %}
  </div>
</div>

<script type="module" src="/js/forumFirebase.js"></script>
{% endblock %}
