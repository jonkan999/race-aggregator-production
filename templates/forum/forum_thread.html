{% extends "forum/forum_layout.html" %} {% block content %}
<div class="forum-container forum-section">
  <div class="thread-navigation">
    <a href="../" class="back-link">← {{ forum.back_to_category }}</a>
  </div>

  <div class="thread-header">
    <h1>{{ thread.title }}</h1>
    <div class="thread-meta">
      {{ thread.authorName }} • {{ thread.createdAt }}
    </div>
  </div>

  <div class="forum-posts">
    {% for post in forum_posts %}
    <div class="forum-post">
      <div class="post-header">
        <span class="post-author">{{ post.authorName }}</span>
        <span class="post-date">{{ post.createdAt }}</span>
      </div>
      <div class="post-content">{{ post.content }}</div>
    </div>
    {% endfor %} {% if not forum_posts %}
    <div class="empty-state">{{ forum.empty_state }}</div>
    {% endif %}
  </div>

  <!-- Reply Form -->
  <div class="forum-input-container" id="forum-input-container">
    <textarea
      id="forum-input"
      data-thread-id="{{ thread.id }}"
      placeholder="{{ forum.reply_placeholder }}"
      rows="3"
      {%
      if
      not
      user
      %}disabled{%
      endif
      %}
    ></textarea>

    <button
      id="forum-submit"
      class="primary-button"
      {%
      if
      not
      user
      %}style="display: none;"
      {%
      endif
      %}
    >
      {{ forum.submit_button }}
    </button>

    <div
      id="login-prompt"
      class="login-prompt"
      {%
      if
      user
      %}style="display: none;"
      {%
      endif
      %}
    >
      {{ forum.login_prompt }}
    </div>
  </div>
</div>

<script type="module" src="/js/forumFirebase.js"></script>
{% endblock %}
